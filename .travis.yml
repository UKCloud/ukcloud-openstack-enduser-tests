language: python
python:
- '2.7'
install:
- sudo apt-get install -y libssl-dev libffi-dev git python-pip python-virtualenv
- git clone http://git.openstack.org/openstack/tempest
- sudo pip install tempest/
before_script:
- virtualenv .venv
- source .venv/bin/activate
- pip install -U -r tempest/requirements.txt
- cp -f tests/tempest.conf etc/
- 'echo -e "- username: ${USER}\n  tenant_name: ${TENANT}\n  password: ${PASSWORD}" > etc/accounts.yaml'
- wget 'https://launchpadlibrarian.net/149320341/cirros-0.3.1-i386-disk.vmdk'
- testr init

script:
- testr run tempest.scenario.test_minimum_basic.TestMinimumBasicScenario --concurrency=1
notifications:
  email: false
env:
  global:
  - OS_TOP_LEVEL=./tempest/
  - OS_TEST_PATH=./tempest/tempest/test_discover
  - secure: "opyVNgDdF9FnzRZdsKOZyWT337GVdGRMgKM6Ebg7pL0z4NfuYC3ejY/Bn0M5xTppYJqmk1K0smXz0ufF4NwycnlNpJWtpcjxHNGtJjw3WGLbeWFQPb+flYowAr+dIUcbB3lY3VPbN0o4XHpfaScExBqCk+lGfT3ZL+BZ8tUTjfEc5eDjZXYYli2WTlCklpnMn74Y745tc1/4uGSAO8L5m0pqyH+Mw4DrQr9m9VLtZ2lXHvepi7NyUqYInf3hYDx4lVBNB8jrnanSDYLO+bXUyHABmCVcgQEM4wdLCMzaWdR0YLxVbJvFtbaiht77typMd671p+RWmyADZuFUNVrUoQilV23fccgP/g3JWBA1O+fTFHCZmpJTSKacsErHr9fcgpMn8qKw8Wun7JwVqJpZPUVpF1ZEFlK82rT0raYuOjSGmjZZpSlBKmg86fmy4rUnOeo8Ar0ExSby2RKZX7FhVo1v2XH9i2xTyIb9tYWFivbzVIIo0t+xXBGNFF3Q5GHCUVSTNQEQU8KpCNfVLCddud4RbjPxpZ1ATHYNBij1ORHGIxq5aN5aPTjkbmLklFt9VLbzMRqfnCs4PmmirMx+XPUdEQBNiwOS5wSWXizHdszsltlmbA85V/TNASPxrRI9be1qBJBhl/Q4coBu1G/fhuOMIOhlwis2/Bmbj5c66QM="
  - secure: "I/IIQLYpDoIsgAYGPzQZGFgsaSmzynifYXQM0VzqmYkkM0uNMVPWvWIKs6Rlnppl57eJF9XsdV3erO3tjIse9jd+7kb+XvHQEnCAQSDZHsQ25NmygBbeLuz6TXQDnT7bCVWL+UDnkSrfCihEgt91AcVYPg+iY0aNlwKZkgQrBLnNuKuZZ0Fr6wq54I2wjLaC+kHnlkJprwQBW8KzsxtN2si1woEPNflp+NG68N9wDudWp66QGFfb/R7owbh54B6bUos2DC/qLxPdYjL17+ec5Rsr7s1D9608AJ1sX8ZR4/uRDzW7kJ3AJd2g8BflE6QBWrcpEzdXPZ12iP2jnK4D5ZRA60krMI19c2EMxbIVe03UYV1iT+cNhzRf4gPQsv765PsPNWRTJb4eC+uS3A4rVEaMU2xsZ8DQvw2NP+E78iMRQK9eJ2HsWnu9+941ADBiJpyJKxNSlzHqRX63x5ZinGb32+p04VqV5I6jcCAjpl8MTAZHK7JVY6Zzs8TTxFmvkKLyMOB1znAm78kctX4HrCFfofrW3sQpNnVrwyk0PjnHN2Oo/zZi6/5F3xJGECtDmLx5XvKaFQ4n1YTV1zmgkxtF97TMatUmH13iyxIsrHtN+rIqQMBQLZGp6CGWqdOJ0mQ6iFS0714DCVfRAmk4n4bwZ6y1HE21nrmSR++JXQI="
  - secure: "HBjzeiQTYe1GqonWNZ6vV04NeFMM+29TFEKqDBkwnVqdrp5/ys8H6a/HT+70JMDk3UM9GoGt6zw9RRSB10zPD6yUWPoYJBN4Qn9LsRdC29U0zmjKbotF6PJYodBTsvRd9GIYRfj1bGWea88goIYlXwAw3UOjQtJ2/b1mhBuiK55UD0Q+bPu/fCYWLVpjU1IJ7Gses+8eGnQ8vnaw8O4qBL8ppDDVbwY6cz/EdsghxZ5gXDN5FM297DQuw2GejjdugKDvY9U+YwnuSXypl3R4qabB++czIWFRiH1gTCjmi9s/oqZ9fC4fpDt5reVJhiQXrBOpa3ajisALyYeonm3tFigLBuLDoy2HndiUr+vdzAz7/zo+UW8doz5O+nUlbzWI/sUT7XxQ0rzP4zEqwxnmKsVy4aJrRlDWjqjSiSizza5ewknHFYHNLXgVV+Z2QQqM9BwmbZ9+iXUPl0C8kA2kbU2GzKT3NhW/tbUt+KSpKyPZvtq17Z610xEQaNkRtUTp8Q9pxtaqg/DsWzDUco45l2yDjaG69XNydrkcymeo53g1mAj7ABexTjpiFvJ9NOz6Gmz2MOTFo6YY0o4oFP/SZD0Y5tBo1HKZ5ehOZ60KMBF7lWh1JZPUCTZenAQcwwuGKXy0DYGx0i/BrXNlvhU9Z00W670PtOM7oC6KSx+vfkU="
